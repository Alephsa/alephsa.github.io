<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="author" content="Nicolas Bohorquez" />
	<meta name="copyright" content="Nicolas Bohorquez" />

<meta name="keywords" content="openrefine, data science, Tools, " />
	<title>Filtros y grupos en Openrefine  - Seleccionar subconjuntos de datos  · Alephsa
</title>
    <link rel="stylesheet" href="/theme/css/bootstrap.css" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/theme/font-awesome/css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="/theme/css/animate.min.css" type="text/css">
    <link rel="stylesheet" href="/theme/css/creative.css" type="text/css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body id="page-top">

    <nav id="mainNav" class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand page-scroll" href="/">Alephsa</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
					<li ><a href="/pages/porque-alephsa.html">Alephsa?</a></li>
					<li ><a href="/pages/infocracia.html">Infocracia</a></li>
					<li ><a href="/pages/open-source.html">Open source</a></li>
					<li ><a href="/pages/team.html">Equipo</a></li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

<header class="header-article">
	<div class="container">
		<div class="row">
			<div class="col-lg-12 text-left ">
				<div class="col-lg-8">
					<h1 class="section-heading">Filtros y grupos en Openrefine</h1>

				<h3 class="text-faded">Seleccionar subconjuntos de datos</h3>
				<p>
							<em>Publicado por</em>
							<a href="#">Nicolas Bohorquez</a>
							<em>en</em>
							<time pubdate="pubdate" datetime="2015-06-26T12:07:00-05:00">jun 26, 2015</time>
							<em> - Actualizado</em>
							<time pubdate="modified" datetime="2015-06-26T12:07:00-05:00">jun 26, 2015</time>
					/
							<em>Categoría :</em>
							<a class="category-link" href="/categories.html#Tools-ref">Tools</a>
				</p>
				</div>
			</div>
		</div>

	</div>

</header>
<section>
	<div class="container">

        <div class="row">
            <!-- Blog Post Content Column -->
        <div class="col-lg-8">
				<div class="col-lg-2">
					<img src="/images/ds/openrefine-filters.jpg" title="Filtros y grupos en Openrefine" width="120px" />
				</div>
				<div class="col-lg-6">
					<strong>Serie</strong>: openrefine&nbsp;<br/>
                    <strong>Etiquetas</strong>:
                        <a href="/tags.html#data-science-ref">data science</a>
                        <a href="/tags.html#openrefine-ref">openrefine</a>
&nbsp;
				</div>
				<div class="col-lg-12">
	                <!-- Post Content -->
	                <p class="lead"><p>En nuestro post anterior generamos un proyecto en OpenRefine que debería contener 628118 registros, sin embargo, nuestro <em>dataset</em> cargado muestra 628111, están todos los que son? son todos los que están?, bueno con ayuda de OpenRefine en <a href="http://www.alephsa.com" title="Alephsa"><strong>Alephsa</strong></a> hemos podido responder estas preguntas en varios proyectos de manera exitosa.</p>
<h1 id="encontrar-los-faltantes">Encontrar los faltantes</h1>
<p>Conocer el dominio sobre el cual nos movemos nos permite probar de formular de manera intuitiva algunas alternativas para encontrar los registros faltantes, en este caso sabemos que el <strong>numero de contrato</strong> es una dato <em>sine qua non</em> puede existir un registro en el <em>dataset</em> que estamos trabajando, asi que nuestra primera aproximación es buscar los datos con valores nulos o blancos en la columna <em>numerocontrato</em>, para ello hacemos clic en el triangulo al lado del nombre y seleccionamos un <em>Facet</em> (agrupación) para encontrar valores nulos:</p>
<p><img src="/images/openrefine/2-1.png" title="Facet para encontrar valores nulos" width="640px"></p>
<p>Ahora bien, en el panel lateral izquierdo notamos que hay 13 filas con valor nulo, hacemos clic sobre <em>true</em> para seleccionarlos y veremos que hay filas sin valor, como no conocemos el valor exacto para esos registros vamos a copiar el valor de la columna <em>numero de proceso</em>, para ello podemos editar el valor de cada celda (con el puntero señalamos la celda que queremos editar) con un dato estandar "N/A", luego retiramos la agrupación del panel izquierdo,  ordenamos la columna <em>numerocontrato</em> alfabeticamente (Sort...) y finalmente hacemos el orden permanente:</p>
<p><img src="/images/openrefine/2-2.png" title="Ordenar para recontar los registros" width="640px"></p>
<p>Y notaremos que ahora tenemos 628124 registros, porqué tantos?</p>
<h1 id="quitar-los-sobrantes">Quitar los sobrantes</h1>
<p>Al crear el proyecto los titulos de las columnas fueron tomados del archivo agrupado que generamos a partir de la suma de los archivos individuales, nuevamente, usando nuestra intuición suponemos que cada archivo que descargamos contiene las mismas cabeceras y para probar nuestra sospecha agregamos un filtro de tipo texto y buscamos el nombre de la columna sobre el cual lo agregamos:</p>
<p><img src="/images/openrefine/2-3.png" title="Filtro de texto" width="640px"></p>
<p>En los filtros podemos usar expresiones regulares, los resultados nos muestran seis registros con los datos de nombres de las columnas, vamos a borrar estas filas haciendo clic en la columna llamada <em>All</em> y seleccionando "Edit rows-&gt;delete all matching rows", asi obtenemos los 628118 registros que buscabamos!.</p>
<blockquote>
<p>John McClane: Stop all the goddamn yellin'! I know what I'm doing.</p>
</blockquote>
<h1 id="y-ahora">Y ahora?</h1>
<p>Ahora vamos a buscar los registros duplicados, a separar las columna <em>departamentomunicipio</em> en dos y algunas otras cosas interesantes para poder hacer una descripción medianamente acertada de los datos. En los siguientes artículos de la serie hay más información.</p></p>
						<div class="col-lg-12">
						    <p>Este articulo es el número 2 en la serie "openrefine", otros artículos:</p>
						    <ol class="parts">
						            <li >
						                <a href='/2015/06/openrefine-install.html'>Openrefine</a>
						            </li>
						            <li class="active">
						                <a href='/2015/06/openrefine-filters.html'>Filtros y grupos en Openrefine</a>
						            </li>
						            <li >
						                <a href='/2015/06/openrefine-duplicates.html'>Duplicados en Openrefine</a>
						            </li>
						            <li >
						                <a href='/2015/06/openrefine-split.html'>Separar datos en Openrefine</a>
						            </li>
						    </ol>
						</div>
				</div>
      </div>

            <!-- Blog Sidebar Widgets Column -->
        <div class='col-lg-4 ' style="border-left:solid 1px #e56f0e;">

					<h5>Nube de Etiquetas</h5>
					<ul class="tagcloud">
					        <li class="tag-4"><a href="/tag/pelican.html">pelican</a></li>
					        <li class="tag-1"><a href="/tag/openrefine.html">openrefine</a></li>
					        <li class="tag-4"><a href="/tag/r.html">R</a></li>
					        <li class="tag-4"><a href="/tag/wordpress.html">wordpress</a></li>
					        <li class="tag-4"><a href="/tag/publishing.html">publishing</a></li>
					        <li class="tag-1"><a href="/tag/data-science.html">data science</a></li>
					        <li class="tag-4"><a href="/tag/ubuntu.html">ubuntu</a></li>
					</ul>
					<p>
						<small><a href="/random.html" title="Leer un articulo al azar">Me siento con suerte</a></small>
					</p>
                    <!-- Begin MailChimp Signup Form -->
                    <div id="mc_embed_signup">
                        <form action="Powered by mailchimp" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
                            <h5>Suscribase a las actualizaciones</h5>
                            <input type="email" value="" name="EMAIL" class="email input-sm" id="mce-EMAIL" placeholder="name@ejemplo.com" required>
                            <input type="submit" value="Suscribirme" name="subscribe" id="mc-embedded-subscribe" class="btn btn-primary">
                        </form>
                    </div>

                    <!--End mc_embed_signup-->
                </div>
            </div>
        </div>
    </div>
</section>

<a  name="contact"></a>
    <!-- Footer -->
    <footer >
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <ul class="list-inline">
            					<li ><a href="/pages/porque-alephsa.html">Alephsa?</a></li>
            					<li ><a href="/pages/infocracia.html">Infocracia</a></li>
            					<li ><a href="/pages/open-source.html">Open source</a></li>
            					<li ><a href="/pages/team.html">Equipo</a></li>
                    </ul>
                    <p class="copyright text-muted small"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Alephsa website</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://www.alephsa.com" property="cc:attributionName" rel="cc:attributionURL">Alephsa SAS</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
                    </p>
                </div>
            </div>
        </div>
    </footer>    <script type="text/javascript" src="/theme/js/jquery.js"></script>
    <script type="text/javascript" src="/theme/js/snap.svg-min.js"></script>
    <script type="text/javascript" src="/theme/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/theme/js/jquery.easing.min.js"></script>
    <script type="text/javascript" src="/theme/js/logo-anim.js"></script>
    
</body>

</html>